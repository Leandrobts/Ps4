<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Teste Mínimo</title>
</head>

<body>
    <div id="output"></div>
    <button id="testButton">Clique Aqui</button>
    <script>
        const log = (message, type = 'info') => {
            const outputDiv = document.getElementById('output');
            if (outputDiv) {
                outputDiv.innerHTML += `<span style="color: ${type === 'error' ? 'red' : type === 'warning' ? 'orange' : 'blue'};">${new Date().toLocaleTimeString()} - ${message}\n</span>`;
            } else {
                console.error('Elemento #output não encontrado!');
            }
        };

        function prepareData() {
            log("Função prepareData() iniciada e concluída (para consistência).", 'info');
            let bufferSize = 64;
            let buffer = new ArrayBuffer(bufferSize);
            let view = new Uint8Array(buffer);
            return { buffer, view, bufferSize };
        }

        function testFunction() {
            log("testFunction() iniciado", 'info');
            prepareData();
            log("testFunction() concluído", 'info');
            document.getElementById('output').textContent = "Botão Clicado!";
        }

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('testButton').addEventListener('click', testFunction);
        });
    </script>
</body>

</html>
